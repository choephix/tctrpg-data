{
  "world": {
    "locations": [
      {
        "slug": "spawnpoint",
        "uid": "@spawnpoint",
        "x": 0,
        "y": 0,
        "exits": [
          "@schtrasse"
        ]
      },
      {
        "slug": "schtrasse",
        "uid": "@schtrasse",
        "x": -3.5,
        "y": 91.5,
        "exits": [
          "@spawnpoint"
        ]
      }
    ],
    "subnodes": [],
    "areas": [],
    "characters": [],
    "items": []
  },
  "journal": {
    "aliases": [],
    "snippets": [
      {
        "key": "village",
        "text": "the village"
      }
    ],
    "defaults": [],
    "actions": {
      "goto": []
    },
    "sequences": {
      "triggers": [],
      "nodes": [
        {
          "uid": "$alohobota",
          "cause": "$alohobota",
          "text": "\"Alohobota!\"\n\nNothing happens",
          "choices": [
            {
              "handle": "Try again",
              "next": "$alohobota"
            },
            {
              "handle": "Fuck this",
              "next": "$theend"
            }
          ],
          "type": "solo"
        },
        {
          "uid": "$theend",
          "cause": "$theend",
          "text": "Well...\n\nNothing else to do.",
          "type": "solo"
        }
      ]
    },
    "threads": [
      {
        "slug": "test-thread",
        "stages": [
          {
            "slug": "initial",
            "interceptors": [
              {
                "when": [
                  {
                    "type": "goto",
                    "condition": "to==='@schtrasse' && context.tests>0 && (context.tests%5===0)"
                  }
                ],
                "what": [
                  {
                    "code": "context.level=2",
                    "text": "As you enter the schtrasse you hear a loud crack. A tiny dinosaur-elephant soars through the sky. The sun turns pink. Your pants fall off."
                  }
                ],
                "choices": [
                  {
                    "handle": "Say the magic word!",
                    "next": "$alohobota"
                  },
                  {
                    "handle": "Scream the magic word!",
                    "next": "$alohobota"
                  },
                  {
                    "handle": "Whisper the magic word!",
                    "next": "$alohobota"
                  }
                ]
              },
              {
                "when": [
                  {
                    "type": "goto",
                    "condition": "never===true"
                  },
                  {
                    "type": "goto",
                    "condition": "neverever===true"
                  }
                ],
                "what": [
                  {
                    "condition": "!context.poopfly",
                    "code": "context.poopfly=true",
                    "text": "A poop-fly passes by?"
                  },
                  {
                    "text": "This should never happen. How did you do this?"
                  },
                  {
                    "text": "Are you a wizard?"
                  },
                  {
                    "text": "How's the weather?"
                  }
                ],
                "choices": [
                  {
                    "handle": "I have no choice...",
                    "next": "$theend"
                  }
                ]
              },
              {
                "when": [
                  {
                    "type": "goto",
                    "condition": "to==='@schtrasse' && context.tests>0"
                  }
                ],
                "what": [
                  {
                    "text": "You step into the schtrasse, but something is off... \n\nYou hear a faint whisper--\n\"You are on the right path, but you need to be divisible by 5... ;)\"\n\n(cool how they whispered a wink, right? I have no explanation for this, move on...)"
                  }
                ],
                "choices": []
              }
            ]
          },
          {
            "slug": "phase-two",
            "interceptors": [
              {
                "when": [
                  {
                    "type": "goto",
                    "condition": "to==='@spawnpoint'"
                  }
                ],
                "what": [
                  {
                    "code": "context.level=999999",
                    "text": "You have now returned to your spawnpoint with newfound resolve!!"
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "slug": "alpha"
      },
      {
        "slug": "beta"
      },
      {
        "slug": "gamma"
      }
    ]
  },
  "ini": {
    "spawn_node": "@spawnpoint"
  },
  "kod": {}
}